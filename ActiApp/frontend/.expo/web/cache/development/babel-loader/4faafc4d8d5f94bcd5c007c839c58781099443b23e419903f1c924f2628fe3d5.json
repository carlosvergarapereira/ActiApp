{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Documents\\\\aplicacion\\\\ActiApp\\\\ActiApp\\\\frontend\\\\src\\\\screens\\\\HomeScreen.js\";\nimport React, { useEffect, useState, useContext, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { MaterialIcons } from '@expo/vector-icons';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthContext } from '../context/AuthContext';\nimport moment from 'moment';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getBaseUrl = () => Platform.OS === 'android' ? 'http://10.0.2.2:5000' : 'http://localhost:5000';\nconst HomeScreen = ({\n  navigation\n}) => {\n  const {\n    user,\n    setUser\n  } = useContext(AuthContext);\n  const [activities, setActivities] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [activeActivityId, setActiveActivityId] = useState(null);\n  const [startTime, setStartTime] = useState(null);\n  const [duration, setDuration] = useState('00:00:00');\n  const timerRef = useRef(null);\n  const fetchActivities = async () => {\n    try {\n      const token = await AsyncStorage.getItem('token');\n      const res = await fetch(`${getBaseUrl()}/api/activities`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const data = await res.json();\n      const orgActivities = data.filter(act => String(act.organization) === String(user.organizationId));\n      setActivities(orgActivities);\n      const current = orgActivities.find(a => a.startTime && !a.endTime);\n      if (current) {\n        setActiveActivityId(current._id);\n        setStartTime(new Date(current.startTime));\n        startTimer(new Date(current.startTime));\n      } else {\n        setActiveActivityId(null);\n        clearTimer();\n      }\n    } catch (err) {\n      Alert.alert('Error', err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleLogout = async () => {\n    await AsyncStorage.removeItem('token');\n    setUser(null);\n    navigation.replace('Login');\n  };\n  const startTimer = start => {\n    clearInterval(timerRef.current);\n    timerRef.current = setInterval(() => {\n      const diff = moment.duration(moment().diff(moment(start)));\n      const formatted = [String(diff.hours()).padStart(2, '0'), String(diff.minutes()).padStart(2, '0'), String(diff.seconds()).padStart(2, '0')].join(':');\n      setDuration(formatted);\n    }, 1000);\n  };\n  const clearTimer = () => {\n    clearInterval(timerRef.current);\n    setDuration('00:00:00');\n    timerRef.current = null;\n  };\n  const handleStartActivity = async activityId => {\n    try {\n      const token = await AsyncStorage.getItem('token');\n      if (activeActivityId && activeActivityId !== activityId) {\n        await fetch(`${getBaseUrl()}/api/activities/${activeActivityId}`, {\n          method: 'PATCH',\n          headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            endTime: new Date()\n          })\n        });\n      }\n      await fetch(`${getBaseUrl()}/api/activities/${activityId}`, {\n        method: 'PATCH',\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          startTime: new Date(),\n          endTime: null\n        })\n      });\n      setActiveActivityId(activityId);\n      setStartTime(new Date());\n      startTimer(new Date());\n      fetchActivities();\n    } catch (error) {\n      Alert.alert('Error', 'No se pudo iniciar actividad');\n    }\n  };\n  const handleEndActivity = async () => {\n    if (!activeActivityId) return;\n    try {\n      const token = await AsyncStorage.getItem('token');\n      await fetch(`${getBaseUrl()}/api/activities/${activeActivityId}`, {\n        method: 'PATCH',\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          endTime: new Date()\n        })\n      });\n      setActiveActivityId(null);\n      clearTimer();\n      fetchActivities();\n    } catch (err) {\n      Alert.alert('Error', 'No se pudo finalizar actividad');\n    }\n  };\n  useEffect(() => {\n    fetchActivities();\n    return clearTimer;\n  }, []);\n  const renderItem = ({\n    item\n  }) => {\n    const isActive = item._id === activeActivityId;\n    return _jsxDEV(TouchableOpacity, {\n      onPress: () => handleStartActivity(item._id),\n      style: [styles.card, isActive && {\n        backgroundColor: '#fde3a7'\n      }],\n      children: [_jsxDEV(Text, {\n        style: styles.title,\n        children: item.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        children: [item.category, \" / \", item.subcategory]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this);\n  };\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(View, {\n      style: styles.header,\n      children: [_jsxDEV(Text, {\n        style: styles.titleMain,\n        children: [\"\\uD83D\\uDC4B Hola, \", user?.firstName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.iconRow,\n        children: [_jsxDEV(TouchableOpacity, {\n          onPress: () => navigation.navigate('Config'),\n          children: _jsxDEV(MaterialIcons, {\n            name: \"settings\",\n            size: 28,\n            color: \"#F39C12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), _jsxDEV(TouchableOpacity, {\n          onPress: () => navigation.navigate('History'),\n          children: _jsxDEV(MaterialIcons, {\n            name: \"history\",\n            size: 28,\n            color: \"#F39C12\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), _jsxDEV(TouchableOpacity, {\n          onPress: handleLogout,\n          children: _jsxDEV(MaterialIcons, {\n            name: \"logout\",\n            size: 28,\n            color: \"#e74c3c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), activeActivityId && _jsxDEV(View, {\n      style: styles.timerBox,\n      children: [_jsxDEV(Text, {\n        style: styles.timerText,\n        children: \"\\u23F1 Actividad en progreso\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }, this), _jsxDEV(Text, {\n        style: styles.timerBig,\n        children: duration\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this), _jsxDEV(TouchableOpacity, {\n        onPress: handleEndActivity,\n        children: _jsxDEV(MaterialIcons, {\n          name: \"stop-circle\",\n          size: 36,\n          color: \"#e74c3c\",\n          style: {\n            marginTop: 10\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this), loading ? _jsxDEV(ActivityIndicator, {\n      size: \"large\",\n      color: \"#F39C12\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this) : _jsxDEV(FlatList, {\n      data: activities,\n      keyExtractor: item => item._id,\n      renderItem: renderItem,\n      contentContainerStyle: {\n        paddingBottom: 50\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f6fa',\n    padding: 20\n  },\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 20\n  },\n  titleMain: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    color: '#34495E'\n  },\n  iconRow: {\n    flexDirection: 'row',\n    gap: 15\n  },\n  timerBox: {\n    backgroundColor: '#2ecc71',\n    padding: 15,\n    borderRadius: 10,\n    marginBottom: 20,\n    alignItems: 'center'\n  },\n  timerText: {\n    color: '#fff',\n    fontSize: 16\n  },\n  timerBig: {\n    color: '#fff',\n    fontSize: 32,\n    fontWeight: 'bold',\n    marginTop: 8\n  },\n  card: {\n    backgroundColor: '#fff',\n    padding: 15,\n    borderRadius: 10,\n    marginBottom: 12,\n    borderColor: '#ddd',\n    borderWidth: 1\n  },\n  title: {\n    fontWeight: 'bold',\n    fontSize: 16,\n    marginBottom: 5\n  }\n});\nexport default HomeScreen;","map":{"version":3,"names":["React","useEffect","useState","useContext","useRef","View","Text","FlatList","ActivityIndicator","Alert","TouchableOpacity","StyleSheet","MaterialIcons","AsyncStorage","AuthContext","moment","Platform","jsxDEV","_jsxDEV","getBaseUrl","OS","HomeScreen","navigation","user","setUser","activities","setActivities","loading","setLoading","activeActivityId","setActiveActivityId","startTime","setStartTime","duration","setDuration","timerRef","fetchActivities","token","getItem","res","fetch","headers","Authorization","data","json","orgActivities","filter","act","String","organization","organizationId","current","find","a","endTime","_id","Date","startTimer","clearTimer","err","alert","message","handleLogout","removeItem","replace","start","clearInterval","setInterval","diff","formatted","hours","padStart","minutes","seconds","join","handleStartActivity","activityId","method","body","JSON","stringify","error","handleEndActivity","renderItem","item","isActive","onPress","style","styles","card","backgroundColor","children","title","fileName","_jsxFileName","lineNumber","columnNumber","category","subcategory","container","header","titleMain","firstName","iconRow","navigate","name","size","color","timerBox","timerText","timerBig","marginTop","keyExtractor","contentContainerStyle","paddingBottom","create","flex","padding","flexDirection","justifyContent","alignItems","marginBottom","fontSize","fontWeight","gap","borderRadius","borderColor","borderWidth"],"sources":["C:/Users/Asus/Documents/aplicacion/ActiApp/ActiApp/frontend/src/screens/HomeScreen.js"],"sourcesContent":["import React, { useEffect, useState, useContext, useRef } from 'react';\r\nimport { View, Text, FlatList, ActivityIndicator, Alert, TouchableOpacity, StyleSheet } from 'react-native';\r\nimport { MaterialIcons } from '@expo/vector-icons';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport moment from 'moment';\r\nimport { Platform } from 'react-native';\r\n\r\nconst getBaseUrl = () => Platform.OS === 'android' ? 'http://10.0.2.2:5000' : 'http://localhost:5000';\r\n\r\nconst HomeScreen = ({ navigation }) => {\r\n  const { user, setUser } = useContext(AuthContext);\r\n  const [activities, setActivities] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [activeActivityId, setActiveActivityId] = useState(null);\r\n  const [startTime, setStartTime] = useState(null);\r\n  const [duration, setDuration] = useState('00:00:00');\r\n  const timerRef = useRef(null);\r\n\r\n  const fetchActivities = async () => {\r\n    try {\r\n      const token = await AsyncStorage.getItem('token');\r\n      const res = await fetch(`${getBaseUrl()}/api/activities`, {\r\n        headers: { Authorization: `Bearer ${token}` }\r\n      });\r\n      const data = await res.json();\r\n\r\n      // 🔥 Filtrar actividades por organización\r\n      const orgActivities = data.filter(act => String(act.organization) === String(user.organizationId));\r\n      setActivities(orgActivities);\r\n\r\n      const current = orgActivities.find(a => a.startTime && !a.endTime);\r\n      if (current) {\r\n        setActiveActivityId(current._id);\r\n        setStartTime(new Date(current.startTime));\r\n        startTimer(new Date(current.startTime));\r\n      } else {\r\n        setActiveActivityId(null);\r\n        clearTimer();\r\n      }\r\n    } catch (err) {\r\n      Alert.alert('Error', err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    await AsyncStorage.removeItem('token');\r\n    setUser(null);\r\n    navigation.replace('Login');\r\n  };\r\n\r\n  const startTimer = (start) => {\r\n    clearInterval(timerRef.current);\r\n    timerRef.current = setInterval(() => {\r\n      const diff = moment.duration(moment().diff(moment(start)));\r\n      const formatted = [\r\n        String(diff.hours()).padStart(2, '0'),\r\n        String(diff.minutes()).padStart(2, '0'),\r\n        String(diff.seconds()).padStart(2, '0')\r\n      ].join(':');\r\n      setDuration(formatted);\r\n    }, 1000);\r\n  };\r\n\r\n  const clearTimer = () => {\r\n    clearInterval(timerRef.current);\r\n    setDuration('00:00:00');\r\n    timerRef.current = null;\r\n  };\r\n\r\n  const handleStartActivity = async (activityId) => {\r\n    try {\r\n      const token = await AsyncStorage.getItem('token');\r\n\r\n      if (activeActivityId && activeActivityId !== activityId) {\r\n        await fetch(`${getBaseUrl()}/api/activities/${activeActivityId}`, {\r\n          method: 'PATCH',\r\n          headers: { Authorization: `Bearer ${token}`, 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ endTime: new Date() })\r\n        });\r\n      }\r\n\r\n      await fetch(`${getBaseUrl()}/api/activities/${activityId}`, {\r\n        method: 'PATCH',\r\n        headers: { Authorization: `Bearer ${token}`, 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ startTime: new Date(), endTime: null })\r\n      });\r\n\r\n      setActiveActivityId(activityId);\r\n      setStartTime(new Date());\r\n      startTimer(new Date());\r\n      fetchActivities();\r\n    } catch (error) {\r\n      Alert.alert('Error', 'No se pudo iniciar actividad');\r\n    }\r\n  };\r\n\r\n  const handleEndActivity = async () => {\r\n    if (!activeActivityId) return;\r\n    try {\r\n      const token = await AsyncStorage.getItem('token');\r\n      await fetch(`${getBaseUrl()}/api/activities/${activeActivityId}`, {\r\n        method: 'PATCH',\r\n        headers: { Authorization: `Bearer ${token}`, 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ endTime: new Date() })\r\n      });\r\n      setActiveActivityId(null);\r\n      clearTimer();\r\n      fetchActivities();\r\n    } catch (err) {\r\n      Alert.alert('Error', 'No se pudo finalizar actividad');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchActivities();\r\n    return clearTimer;\r\n  }, []);\r\n\r\n  const renderItem = ({ item }) => {\r\n    const isActive = item._id === activeActivityId;\r\n    return (\r\n      <TouchableOpacity onPress={() => handleStartActivity(item._id)} style={[styles.card, isActive && { backgroundColor: '#fde3a7' }]}>\r\n        <Text style={styles.title}>{item.title}</Text>\r\n        <Text>{item.category} / {item.subcategory}</Text>\r\n      </TouchableOpacity>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.header}>\r\n        <Text style={styles.titleMain}>👋 Hola, {user?.firstName}</Text>\r\n        <View style={styles.iconRow}>\r\n          <TouchableOpacity onPress={() => navigation.navigate('Config')}>\r\n            <MaterialIcons name=\"settings\" size={28} color=\"#F39C12\" />\r\n          </TouchableOpacity>\r\n          <TouchableOpacity onPress={() => navigation.navigate('History')}>\r\n            <MaterialIcons name=\"history\" size={28} color=\"#F39C12\" />\r\n          </TouchableOpacity>\r\n          <TouchableOpacity onPress={handleLogout}>\r\n            <MaterialIcons name=\"logout\" size={28} color=\"#e74c3c\" />\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n\r\n      {activeActivityId && (\r\n        <View style={styles.timerBox}>\r\n          <Text style={styles.timerText}>⏱ Actividad en progreso</Text>\r\n          <Text style={styles.timerBig}>{duration}</Text>\r\n          <TouchableOpacity onPress={handleEndActivity}>\r\n            <MaterialIcons name=\"stop-circle\" size={36} color=\"#e74c3c\" style={{ marginTop: 10 }} />\r\n          </TouchableOpacity>\r\n        </View>\r\n      )}\r\n\r\n      {loading ? (\r\n        <ActivityIndicator size=\"large\" color=\"#F39C12\" />\r\n      ) : (\r\n        <FlatList\r\n          data={activities}\r\n          keyExtractor={(item) => item._id}\r\n          renderItem={renderItem}\r\n          contentContainerStyle={{ paddingBottom: 50 }}\r\n        />\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { flex: 1, backgroundColor: '#f5f6fa', padding: 20 },\r\n  header: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', marginBottom: 20 },\r\n  titleMain: { fontSize: 22, fontWeight: 'bold', color: '#34495E' },\r\n  iconRow: { flexDirection: 'row', gap: 15 },\r\n  timerBox: { backgroundColor: '#2ecc71', padding: 15, borderRadius: 10, marginBottom: 20, alignItems: 'center' },\r\n  timerText: { color: '#fff', fontSize: 16 },\r\n  timerBig: { color: '#fff', fontSize: 32, fontWeight: 'bold', marginTop: 8 },\r\n  card: { backgroundColor: '#fff', padding: 15, borderRadius: 10, marginBottom: 12, borderColor: '#ddd', borderWidth: 1 },\r\n  title: { fontWeight: 'bold', fontSize: 16, marginBottom: 5 },\r\n});\r\n\r\nexport default HomeScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}